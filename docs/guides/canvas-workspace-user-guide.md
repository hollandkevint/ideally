# Canvas Workspace User Guide

## Welcome to ThinkHaven Canvas Workspace! üé®

Your strategic conversations just got visual. The Canvas Workspace brings AI-powered diagram generation and professional drawing tools together in one seamless interface.

## Quick Start (30 seconds)

1. **Start a conversation** with Mary about any strategic topic
2. **Watch for diagram suggestions** that appear automatically below AI responses
3. **Click "Add to Canvas"** to instantly visualize your ideas
4. **Switch between Draw and Diagram modes** to refine or create freehand
5. **Export as PNG or SVG** when ready to share

---

## Table of Contents

1. [Getting Started](#getting-started)
2. [AI-Powered Diagrams](#ai-powered-diagrams)
3. [Drawing Tools](#drawing-tools)
4. [Exporting Your Work](#exporting-your-work)
5. [Tips & Tricks](#tips--tricks)
6. [Troubleshooting](#troubleshooting)

---

## Getting Started

### The Canvas Interface

Your workspace has two main panes:

**Left Pane (60%)** - Conversation & Controls
- Chat with Mary, your AI strategist
- Visual suggestion indicators
- Sync controls

**Right Pane (40%)** - Canvas Workspace
- Draw mode (freehand drawing)
- Diagram mode (Mermaid diagrams)
- Toolbar with mode switcher and export

### Your First Diagram

**Example Conversation:**

You: *"What's the best approach for user onboarding?"*

Mary: *"Here's a 5-step onboarding workflow:*
1. *User signs up with email*
2. *System sends verification*
3. *User clicks verification link*
4. *Account is activated*
5. *Dashboard access granted"*

**What Happens:**
- ‚ú® A flowchart suggestion appears automatically
- üìä Shows preview of the diagram structure
- üé® Click "Add to Canvas" ‚Üí Instant visualization!

---

## AI-Powered Diagrams

### Diagram Types

The AI detects 7 types of diagrams from your conversation:

#### 1. **Flowchart** (Process Flows)
**Triggers:** "workflow", "process", "steps", "if/then"

**Example Questions:**
- "How does the login process work?"
- "What are the steps in our sales funnel?"
- "Can you break down the approval workflow?"

#### 2. **Sequence Diagram** (Interactions)
**Triggers:** "interaction", "sends", "receives", "API call"

**Example Questions:**
- "How do the components communicate?"
- "What's the data flow between services?"
- "How does the authentication work?"

#### 3. **Gantt Chart** (Timelines)
**Triggers:** "timeline", "schedule", "Q1/Q2", "roadmap"

**Example Questions:**
- "What's our launch timeline?"
- "Can you create a project schedule?"
- "Break down the phases by quarter"

#### 4. **State Diagram** (Lifecycles)
**Triggers:** "state", "transition", "status", "lifecycle"

**Example Questions:**
- "What are the order states?"
- "How do tasks move through the system?"
- "Map the user account lifecycle"

#### 5. **User Journey** (Experience Maps)
**Triggers:** "journey", "experience", "touchpoint", "persona"

**Example Questions:**
- "What's the customer journey?"
- "Map the user experience flow"
- "Show the buyer's path"

#### 6. **Class Diagram** (Object Models)
**Triggers:** "class", "entity", "relationship", "model"

**Example Questions:**
- "What's our data model?"
- "Show the entity relationships"
- "How are the objects structured?"

#### 7. **Mindmap** (Brainstorming)
**Triggers:** "brainstorm", "ideas", "branches", "organize"

**Example Questions:**
- "Let's brainstorm product features"
- "Organize these concepts"
- "Map out the strategy"

### Suggestion Confidence

Suggestions come with confidence levels:

- ‚ú® **High (80-100%)** - Recommended, can auto-apply
- üü° **Medium (60-79%)** - Good match, review before applying
- ‚ö™ **Low (50-59%)** - Possible match, may need editing

### Sync Controls

**Auto-apply Mode** (‚ú® toggle)
- ON: High-confidence suggestions apply automatically
- OFF: Manual review required (recommended)

**Canvas Sync** (üîó toggle)
- ON: AI ‚Üî Canvas bidirectional sync active
- OFF: No automatic suggestions

---

## Drawing Tools

### Draw Mode (Freehand)

Switch to Draw mode for freehand creativity:

**Tools Available:**
- ‚úèÔ∏è Pen - Freehand drawing
- üì¶ Shapes - Rectangles, circles, triangles
- ‚û°Ô∏è Arrows - Connectors and pointers
- üìù Text - Annotations
- üé® Colors - Full color palette
- üîÑ Undo/Redo

**Quick Tips:**
- Hold **Shift** while drawing for straight lines
- Double-click shapes to edit
- Right-click for more options
- **Auto-save** every 30 seconds

### Diagram Mode (Mermaid)

Switch to Diagram mode for structured diagrams:

**6 Templates Available:**
1. Flowchart - Decision trees
2. Sequence - Interactions
3. Gantt - Project timelines
4. Class - UML diagrams
5. State - State machines
6. User Journey - Experience maps

**Editor Features:**
- **Split-pane**: Code (left) + Preview (right)
- **Live preview**: See changes instantly
- **Templates**: One-click starting points
- **Copy code**: Share Mermaid syntax
- **Save**: Persist to workspace

### Switching Modes

**Keyboard Shortcut:** `Ctrl+Shift+M` (or `Cmd+Shift+M` on Mac)

**Toolbar Buttons:**
- ‚úèÔ∏è Draw - Freehand drawing mode
- üìä Diagram - Mermaid diagram mode

---

## Exporting Your Work

### Export Button

Click the **Export** button in the canvas toolbar (top-right).

### Export Options

#### Format Selection

**PNG (Raster Image)**
- Best for: Sharing, presentations, social media
- Fixed resolution
- Universal compatibility
- Copy to clipboard supported

**SVG (Vector Image)**
- Best for: Print, professional use, scaling
- Infinite resolution
- Smaller file size (usually)
- Edit in vector tools

#### Resolution (PNG only)

**Presets:**
- **HD (1920√ó1080)** - Standard displays
- **4K (3840√ó2160)** - High-resolution displays
- **Full HD Portrait (1080√ó1920)** - Vertical displays
- **Social (1200√ó630)** - Social media optimized
- **Custom** - Enter your own dimensions

#### Quality Scale (PNG only)

- **1x** - Standard quality (smaller file)
- **2x** - Retina quality (recommended)
- **3x** - Ultra-high DPI (larger file)

#### Background

- **White** - Solid white background (default)
- **Transparent** - No background (PNG only)
- **Custom Color** - Pick any color

#### Metadata

Toggle to include workspace info:
- Workspace name
- Export date/time
- Canvas mode
- Session info

### Export Workflow

1. **Click Export** button
2. **Configure** format, resolution, quality
3. **Click "Generate Export"** - See live preview
4. **Review** preview image
5. **Download** or **Copy** to clipboard
6. **Done!** File saved to downloads

**Filename Format:**
```
{workspace-name}-{mode}-{date}.{format}
Example: strategic-planning-diagram-2025-09-30.png
```

---

## Tips & Tricks

### Getting Better Diagrams

**Be Specific:**
‚ùå "Show me the process"
‚úÖ "Show me the 5-step user onboarding workflow"

**Use Trigger Words:**
- Flowchart: "steps", "process", "workflow"
- Sequence: "interaction", "sends", "receives"
- Timeline: "Q1", "Q2", "schedule", "roadmap"

**Ask for Details:**
- "Include decision points"
- "Show the error handling path"
- "Add the validation steps"

### Refining Diagrams

**In Diagram Mode:**
1. Click the suggested diagram to apply
2. Switch to Diagram mode
3. Edit the Mermaid code directly
4. See live preview as you type
5. Save when satisfied

**In Draw Mode:**
1. Apply diagram as starting point
2. Switch to Draw mode
3. Add freehand annotations
4. Customize colors and styles
5. Export when ready

### Keyboard Shortcuts

- `Ctrl+Shift+M` - Toggle Draw/Diagram mode
- `Ctrl+Z` - Undo (Draw mode)
- `Ctrl+Y` - Redo (Draw mode)
- `Ctrl+S` - Save (triggers auto-save)

### Performance Tips

**For Large Diagrams:**
- Use SVG export (faster than PNG)
- Lower PNG scale if file is too large
- Break complex diagrams into multiple smaller ones

**For Complex Drawings:**
- Use Draw mode shapes instead of freehand
- Group related elements
- Use layers (coming soon)

---

## Troubleshooting

### "No diagram suggestions appearing"

**Possible Causes:**
1. Sync is disabled (check üîó toggle)
2. AI response doesn't match diagram patterns
3. Confidence threshold too high

**Solutions:**
- Enable Canvas Sync (üîó toggle)
- Use more specific trigger words
- Ask Mary to "create a diagram showing..."

### "Export failed" error

**Common Issues:**
1. Empty canvas - nothing to export
2. Invalid Mermaid syntax
3. Browser compatibility

**Solutions:**
- Ensure canvas has content
- Check Mermaid code for errors
- Try different browser (Chrome recommended)
- Reduce export resolution

### "Canvas not saving"

**Check:**
1. Internet connection active
2. Not in read-only mode
3. Sufficient storage space

**Solutions:**
- Check online status indicator
- Refresh page if needed
- Contact support if persists

### "Suggestions are low quality"

**Improve Results:**
- Be more specific in questions
- Use numbered/bulleted lists
- Include process keywords
- Ask for explicit diagram creation

### Export is slow (4K PNG)

**This is normal!** 4K exports can take 2-3 seconds.

**Speed Up:**
- Use HD resolution instead
- Use SVG format (instant)
- Lower quality scale (1x or 2x)

---

## Real-World Examples

### Example 1: Product Launch Plan

**You:** "Create a timeline for our Q1 product launch"

**Mary:** [Provides quarterly breakdown]

**Result:** Gantt chart suggestion ‚Üí Click apply ‚Üí Professional timeline ready to export!

**Use Case:** Share with stakeholders, present in meetings

---

### Example 2: API Flow Documentation

**You:** "How does our authentication API work?"

**Mary:** [Explains request/response flow]

**Result:** Sequence diagram ‚Üí Edit in Diagram mode ‚Üí Export as SVG ‚Üí Add to technical docs

**Use Case:** Developer documentation, onboarding

---

### Example 3: Customer Journey Mapping

**You:** "Map the user journey from discovery to purchase"

**Mary:** [Details 6 touchpoints]

**Result:** User journey diagram ‚Üí Switch to Draw mode ‚Üí Add annotations ‚Üí Export HD PNG ‚Üí Share with UX team

**Use Case:** UX design, stakeholder alignment

---

## Need Help?

**In-App Support:**
- Look for üí° hints throughout the interface
- Hover over buttons for tooltips

**Documentation:**
- [Canvas Context Synchronization](../features/canvas-context-synchronization.md)
- [Canvas Export System](../features/canvas-export.md)
- [Mermaid.js Syntax Guide](https://mermaid.js.org/intro/)

**Contact:**
- Report issues: [GitHub Issues](https://github.com/your-repo/issues)
- Feature requests: Same link above

---

**Happy Visualizing! üé®**

Transform your strategic conversations into professional diagrams with ThinkHaven Canvas Workspace.
